\hypertarget{classcaffe_1_1ConvolutionLayer}{}\section{caffe\+:\+:Convolution\+Layer$<$ Dtype $>$ Class Template Reference}
\label{classcaffe_1_1ConvolutionLayer}\index{caffe\+::\+Convolution\+Layer$<$ Dtype $>$@{caffe\+::\+Convolution\+Layer$<$ Dtype $>$}}


Convolves the input image with a bank of learned filters, and (optionally) adds biases.  




{\ttfamily \#include $<$conv\+\_\+layer.\+hpp$>$}

Inheritance diagram for caffe\+:\+:Convolution\+Layer$<$ Dtype $>$\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classcaffe_1_1ConvolutionLayer}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcaffe_1_1ConvolutionLayer_ad27360afd7729001b9e4f1d8c8401866}{Convolution\+Layer} (const Layer\+Parameter \&param)
\item 
virtual const char $\ast$ \hyperlink{classcaffe_1_1ConvolutionLayer_afdcf33e7ec63ca5e476ffdc1da1f1fa0}{type} () const \hypertarget{classcaffe_1_1ConvolutionLayer_afdcf33e7ec63ca5e476ffdc1da1f1fa0}{}\label{classcaffe_1_1ConvolutionLayer_afdcf33e7ec63ca5e476ffdc1da1f1fa0}

\begin{DoxyCompactList}\small\item\em Returns the layer type. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classcaffe_1_1ConvolutionLayer_a8505044adc26d89aae3055022898c9ea}{Forward\+\_\+cpu} (const vector$<$ \hyperlink{classcaffe_1_1Blob}{Blob}$<$ Dtype $>$ $\ast$ $>$ \&bottom, const vector$<$ \hyperlink{classcaffe_1_1Blob}{Blob}$<$ Dtype $>$ $\ast$ $>$ \&top)\hypertarget{classcaffe_1_1ConvolutionLayer_a8505044adc26d89aae3055022898c9ea}{}\label{classcaffe_1_1ConvolutionLayer_a8505044adc26d89aae3055022898c9ea}

\begin{DoxyCompactList}\small\item\em Using the C\+PU device, compute the layer output. \end{DoxyCompactList}\item 
virtual void \hyperlink{classcaffe_1_1ConvolutionLayer_ace239a41953c9207efd1a9966570825c}{Forward\+\_\+gpu} (const vector$<$ \hyperlink{classcaffe_1_1Blob}{Blob}$<$ Dtype $>$ $\ast$ $>$ \&bottom, const vector$<$ \hyperlink{classcaffe_1_1Blob}{Blob}$<$ Dtype $>$ $\ast$ $>$ \&top)\hypertarget{classcaffe_1_1ConvolutionLayer_ace239a41953c9207efd1a9966570825c}{}\label{classcaffe_1_1ConvolutionLayer_ace239a41953c9207efd1a9966570825c}

\begin{DoxyCompactList}\small\item\em Using the G\+PU device, compute the layer output. Fall back to \hyperlink{classcaffe_1_1ConvolutionLayer_a8505044adc26d89aae3055022898c9ea}{Forward\+\_\+cpu()} if unavailable. \end{DoxyCompactList}\item 
virtual void \hyperlink{classcaffe_1_1ConvolutionLayer_ac1591049f064bd88ccdc785a948ed4b2}{Backward\+\_\+cpu} (const vector$<$ \hyperlink{classcaffe_1_1Blob}{Blob}$<$ Dtype $>$ $\ast$ $>$ \&top, const vector$<$ bool $>$ \&propagate\+\_\+down, const vector$<$ \hyperlink{classcaffe_1_1Blob}{Blob}$<$ Dtype $>$ $\ast$ $>$ \&bottom)\hypertarget{classcaffe_1_1ConvolutionLayer_ac1591049f064bd88ccdc785a948ed4b2}{}\label{classcaffe_1_1ConvolutionLayer_ac1591049f064bd88ccdc785a948ed4b2}

\begin{DoxyCompactList}\small\item\em Using the C\+PU device, compute the gradients for any parameters and for the bottom blobs if propagate\+\_\+down is true. \end{DoxyCompactList}\item 
virtual void \hyperlink{classcaffe_1_1ConvolutionLayer_a4de7682afbd816037aba5da3ec66a9bb}{Backward\+\_\+gpu} (const vector$<$ \hyperlink{classcaffe_1_1Blob}{Blob}$<$ Dtype $>$ $\ast$ $>$ \&top, const vector$<$ bool $>$ \&propagate\+\_\+down, const vector$<$ \hyperlink{classcaffe_1_1Blob}{Blob}$<$ Dtype $>$ $\ast$ $>$ \&bottom)\hypertarget{classcaffe_1_1ConvolutionLayer_a4de7682afbd816037aba5da3ec66a9bb}{}\label{classcaffe_1_1ConvolutionLayer_a4de7682afbd816037aba5da3ec66a9bb}

\begin{DoxyCompactList}\small\item\em Using the G\+PU device, compute the gradients for any parameters and for the bottom blobs if propagate\+\_\+down is true. Fall back to \hyperlink{classcaffe_1_1ConvolutionLayer_ac1591049f064bd88ccdc785a948ed4b2}{Backward\+\_\+cpu()} if unavailable. \end{DoxyCompactList}\item 
virtual bool {\bfseries reverse\+\_\+dimensions} ()\hypertarget{classcaffe_1_1ConvolutionLayer_aad2f350240e3e97220230d7b4ceb9bf7}{}\label{classcaffe_1_1ConvolutionLayer_aad2f350240e3e97220230d7b4ceb9bf7}

\item 
virtual void {\bfseries compute\+\_\+output\+\_\+shape} ()\hypertarget{classcaffe_1_1ConvolutionLayer_ae6c1466c758151bf24215a06a6517cbe}{}\label{classcaffe_1_1ConvolutionLayer_ae6c1466c758151bf24215a06a6517cbe}

\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
\subsubsection*{template$<$typename Dtype$>$\\*
class caffe\+::\+Convolution\+Layer$<$ Dtype $>$}

Convolves the input image with a bank of learned filters, and (optionally) adds biases. 

\hyperlink{classcaffe_1_1Caffe}{Caffe} convolves by reduction to matrix multiplication. This achieves high-\/throughput and generality of input and filter dimensions but comes at the cost of memory for matrices. This makes use of efficiency in B\+L\+AS.

The input is \char`\"{}im2col\char`\"{} transformed to a channel K\textquotesingle{} x H x W data matrix for multiplication with the N x K\textquotesingle{} x H x W filter matrix to yield a N\textquotesingle{} x H x W output matrix that is then \char`\"{}col2im\char`\"{} restored. K\textquotesingle{} is the input channel $\ast$ kernel height $\ast$ kernel width dimension of the unrolled inputs so that the im2col matrix has a column for each input region to be filtered. col2im restores the output spatial structure by rolling up the output channel N\textquotesingle{} columns of the output matrix. 

\subsection{Constructor \& Destructor Documentation}
\index{caffe\+::\+Convolution\+Layer@{caffe\+::\+Convolution\+Layer}!Convolution\+Layer@{Convolution\+Layer}}
\index{Convolution\+Layer@{Convolution\+Layer}!caffe\+::\+Convolution\+Layer@{caffe\+::\+Convolution\+Layer}}
\subsubsection[{\texorpdfstring{Convolution\+Layer(const Layer\+Parameter \&param)}{ConvolutionLayer(const LayerParameter &param)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Dtype $>$ {\bf caffe\+::\+Convolution\+Layer}$<$ Dtype $>$\+::{\bf Convolution\+Layer} (
\begin{DoxyParamCaption}
\item[{const Layer\+Parameter \&}]{param}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}\hypertarget{classcaffe_1_1ConvolutionLayer_ad27360afd7729001b9e4f1d8c8401866}{}\label{classcaffe_1_1ConvolutionLayer_ad27360afd7729001b9e4f1d8c8401866}

\begin{DoxyParams}{Parameters}
{\em param} & provides Convolution\+Parameter convolution\+\_\+param, with \hyperlink{classcaffe_1_1ConvolutionLayer}{Convolution\+Layer} options\+:
\begin{DoxyItemize}
\item num\+\_\+output. The number of filters.
\item kernel\+\_\+size / kernel\+\_\+h / kernel\+\_\+w. The filter dimensions, given by kernel\+\_\+size for square filters or kernel\+\_\+h and kernel\+\_\+w for rectangular filters.
\item stride / stride\+\_\+h / stride\+\_\+w ({\bfseries optional}, default 1). The filter stride, given by stride\+\_\+size for equal dimensions or stride\+\_\+h and stride\+\_\+w for different strides. By default the convolution is dense with stride 1.
\item pad / pad\+\_\+h / pad\+\_\+w ({\bfseries optional}, default 0). The zero-\/padding for convolution, given by pad for equal dimensions or pad\+\_\+h and pad\+\_\+w for different padding. Input padding is computed implicitly instead of actually padding.
\item dilation ({\bfseries optional}, default 1). The filter dilation, given by dilation\+\_\+size for equal dimensions for different dilation. By default the convolution has dilation 1.
\item group ({\bfseries optional}, default 1). The number of filter groups. Group convolution is a method for reducing parameterization by selectively connecting input and output channels. The input and output channel dimensions must be divisible by the number of groups. For group $ \geq 1 $, the convolutional filters\textquotesingle{} input and output channels are separated s.\+t. each group takes 1 / group of the input channels and makes 1 / group of the output channels. Concretely 4 input channels, 8 output channels, and 2 groups separate input channels 1-\/2 and output channels 1-\/4 into the first group and input channels 3-\/4 and output channels 5-\/8 into the second group.
\item bias\+\_\+term ({\bfseries optional}, default true). Whether to have a bias.
\item engine\+: convolution has C\+A\+F\+FE (matrix multiplication) and C\+U\+D\+NN (library kernels + stream parallelism) engines. 
\end{DoxyItemize}\\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/caffe/layers/conv\+\_\+layer.\+hpp\item 
src/caffe/layers/conv\+\_\+layer.\+cpp\end{DoxyCompactItemize}
