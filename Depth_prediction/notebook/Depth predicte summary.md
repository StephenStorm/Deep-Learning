#### 目的:

从単目视频中同时学习深度,自我运动,物体运动和相机内参,仅使用相邻视频帧之间的一致性作为监督信号.

* 使用深度图,以几何和可微的方式处理遮挡
* 引入随机层正则化
* 考虑物体相对于背景的运动
* 以无监督的方式从视频中学习内参    以便可以从原生视频中学习

### 学习相机内参

![1585018834099](/home/ykh/.config/Typora/typora-user-images/1585018834099.png)

旋转提供监督信号,将公差和相机的旋转量联系起来

### Learning  object motion

* z,R,t的连续性是强大的正则化器
* 对整张图像施加R的稳定性,并且只允许t在可能移动的像素点偏离一个恒定值.(bounding box)
* 对t进行L1平滑操作

### Occlusion-aware consistency

引入的损失函数只要求在两帧中未被遮挡的像素的一致性

通过一个学习过的可解释掩码(explainability mask),惩罚前一帧或者后一帧与中间一帧的最小重投影误差.通过可微损失以几何的方法解决遮挡

给定一帧的深度图和运动区域,可以检测哪里将会发生遮挡

(i, j)-----> (X<sub>i,j</sub>,Y<sub>i,j</sub>,Z<sub>i,j</sub>)    经过运动预测,该点移动到空间中的另一点 ,深度变为Z'.新的空间点重投会图像坐标为(i', j'),根据深度图获得Z<sub>i',j'</sub><sup>t</sup> .  将Z'与Z<sup>t</sup> 进行比较,只将 Z' < Z<sup>t</sup> 的点加入到损失函数



### Networks,loss and regularization

两个卷及神经网络,一个从单视图中预测深度,一个预测自我运动,物体运动区域和相机内参

**深度预测网络**  UNet结构,  ResNet 18 base  ,softplus 激活函数.

![1585020755392](/home/ykh/.config/Typora/typora-user-images/1585020755392.png)

**运动预测网络** UNet结构,



#### loss

* 对每个RGB颜色通道和深度应用带有遮挡感知的L1惩罚
* 都运动区域施加循环一致性:源帧在像素(i,j) 处的旋转和平移和目标帧在(i', j')处的旋转和平移相反
* SSIM 通过函数衡量结构相似度,为解决遮挡感知很难在邻域像素上实施的难题,通过一个函数SSIM,当帧间深度差异比深度差异的均方根大时,函数失效

#### 随机层归一化

我们用 在层均值和方差上添加高斯噪声的 层归一化 代替批处理归一化.



**motion-prediction network**  预测相机运动,每一个像素相对于与背景的运动,和相机内参:焦距,偏移,和畸变

**depth-prediction network** 同时预测深度图,运动范围,和相机内参